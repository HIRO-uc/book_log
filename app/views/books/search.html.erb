<%= render partial: 'shared/header' %>
<div class='row d-flex justify-content-center border border-secondary'>
  <% @books.each do|book| %>
  <div class='book col-5 p-4 m-3 border border-secondary '>
    <div class="book-image">
    <%= image_tag book.image_link, class: 'thumbnail' if book.image_link.present? %>
    <%= image_tag 'no_image.jpg', class: 'thumbnail border' if book.image_link.blank? %>
    </div>
    <div class="book-title">
    <%= book.title %>
    </div>
    <div class='book-author'>
    <%= book.authors %>
    </div>
    <div class='book-isbn'>
    <%= book.isbn %>
    </div>

    <div class="book-form">
    <%= form_with url: books_path, local: true do |form| %>
    <%= hidden_field_tag :title, book.title %>
    <%= hidden_field_tag :authors, book.authors %>
    <%= hidden_field_tag :published_date, book.published_date %>
    <%= hidden_field_tag :image_link, book.image_link %>
    <%= hidden_field_tag :info_link, book.info_link %>
    <%= hidden_field_tag :isbn, book.isbn %>
    <%= form.submit "本棚に登録" %>
    <% end %>
    </div>

  </div>
  <% end %>
</div>
<%= paginate @books %>

